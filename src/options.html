<!DOCTYPE html>
<html>
    <head>
        <title>FoxHorn options</title>
        <meta charset="UTF-8">
        <style>
            .row {
                margin: 1em 0 ;
            }
            .flex-cols, .flex-rows {
                display: flex;
            }
            .flex-rows {
                flex-flow: row;
            }
            .flex-cols {
                flex-flow: column;
            }
        </style>
    </head>
    <body>
        
        <div class="row">
            List of sites and their player types. <br/>
            Add lines like: 'domain:example.com player_type' per each site. # - comment
            <textarea id="site-player-mapping" style="width:100%;height:20em"></textarea>
        </div>
        <div class="row">
            <div>List of user players</div>
            <div class="flex-rows">
                <select id="user-players" size="10" style="width: 30%; margin-right: .1em">
                </select>
                <div class="flex-cols" style="width: 70%">
                    <div style="margin-bottom: .1em">
                        <input id="user-player-name" type="text" placeholder="myplayer" />
                        <label for="user-player-name">Name of player type</label>
                    </div>
                    <textarea id="user-player-code" rows="10" style="font-family: monospace !important" >
//see doc on https://github.com/wayerr/foxhorn
foxhorn.setPlayer({
        features: new Set([foxhorn.F_PROGRESS_EVENT])
        open: () => api.on("update", foxhorn.playerProgress),
        close: () => api.off(foxhorn.playerProgress),
        play: () => api.isPlaying()? api.pause() : api.play(),
        next: api.next,
        prev: api.prev,
        getProgress: api.getProgress,
        isPlaying: api.isPlaying,
        hasMedia: () => !!api.getTrack(),
        getTrack: () => {
            let ct = api.getTrack();
            return {
                id:"track",
                title: ct.title,
                position: ct.duration * api.getProgress(),
                duration: ct.duration
            };
        }
    });
                    </textarea>
                </div>
            </div>
            <div>
                <button id="user-player-add">+</button> <button id="user-player-remove">-</button>
            </div>
        </div>
        <div class="row">
            <input id="enable-logging" type="checkbox"/>
            <label for="enable-logging">Enable logging</label>
        </div>
        <br/>
        <button id="opts-save">save</button>
        <button id="opts-clear">clear</button>
        <script src="common.js"></script>
        <script src="options_common.js"></script>
        <script src="options.js"></script>
    </body>
</html>
